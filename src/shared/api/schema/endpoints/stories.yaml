# api/endpoints/stories.yaml
findMany:
   summary: Get all stories
   description: Retrieves a list of stories.
   tags:
      - stories
   parameters:
      - name: page
        in: query
        required: false
        schema:
           type: integer
           default: 1
      - name: limit
        in: query
        required: false
        schema:
           type: integer
           default: 10
      - name: search
        in: query
        required: false
        schema:
           type: string
           default: ""
      - name: sort
        in: query
        required: false
        schema:
           type: string
           default: ""
           enum:
              - best
              - popular
              - new
      - name: length
        in: query
        required: false
        schema:
           type: string
           default: ""
           enum:
              - short
              - medium
              - long
   responses:
      "200":
         description: Successful operation
         content:
            application/json:
               schema:
                  type: array
                  items:
                     $ref: "#/components/schemas/Story"
      "400":
         $ref: "../responses.yaml#/BadRequestError"
      "401":
         $ref: "../responses.yaml#/UnauthorizedError"
      "404":
         $ref: "../responses.yaml#/NotFoundError"

findOne:
   summary: Get a story by ID
   description: Retrieves a single story based on its ID.
   tags:
      - stories
   parameters:
      - in: path
        name: storyId
        schema:
           type: string
        required: true
        description: ID of the story to retrieve.
   responses:
      "200":
         description: Successful operation
         content:
            application/json:
               schema:
                  $ref: "#/components/schemas/Story"
      "400":
         $ref: "../responses.yaml#/BadRequestError"
      "401":
         $ref: "../responses.yaml#/UnauthorizedError"
      "404":
         $ref: "../responses.yaml#/NotFoundError"

components:
   schemas:
      Story:
         type: object
         properties:
            id:
               type: string
            name:
               type: string
            description:
               type: string
            img:
               type: string
            author:
               type: object
               properties:
                  id:
                     type: string
                  login:
                     type: string
               required:
                  - id
                  - login
            tags:
               type: array
               items:
                  type: string
            sceneCount:
               type: integer
               format: int32
            passes:
               type: integer
               format: int32
            likes:
               type: integer
               format: int32
            isLiked:
               type: boolean
            date:
               type: string
               format: date
         required:
            - id
            - name
            - description
            - img
            - author
            - tags
            - sceneCount
            - passes
            - likes
            - isLiked
            - date
